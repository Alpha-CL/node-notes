## create table

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// navicat premium

    - length: 显示长度与存储大小或类型包含的值的范围无关
    
    - indexes: 添加索引( 加速查找以外，还有约束的功能 )


"name"      "type"      "length"        "decimals"      "not null"      "virtual"       "key"       "comment"
 名称         类型         显示长度         小数点范围        是否允许为空       虚拟            主键         注释      


"fields"    "indexes"   "foreign keys"  "triggers"      "options"       "comment"       "sql preview"
 字段         索引         外键             触发器           选项             注释            根据操作显示 sql 语句


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 主键

primary_key {
    
    name: id,
    type: int,
    key: true,
    autoIncrement: true,
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### create fields

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


[name] {                                        // 数据列名称

    type: number | time | string,               // 类型
    length: number,                             // 显示长度( 显示长度与存储大小或类型包含的值的范围无关 )
    decimals: number,                           // 小数长度
    notNull: boolean,                           // 是否允许为空
    virual: boolean,                            // 
    key: booleean,                              // 键
    comment: any,                               // 注释
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### create indexes

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// name

idx_[field]_[type_abbr]


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// fields

choose field in current table


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// index type

    - fulltext: 全文本搜索索引( 用于搜索长篇文章 )
    
    - unique: 唯一索引
    
    - normal: 普通索引( 加快搜索 )
    
    - spatial: 空间索引


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// index method

    - hash: 查询单条快，范围查询慢
    
    - btree: b+树，层数越多，数据量指数级增长( 就用它，因为 innodb 默认支持它 ）


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### create foreign keys

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// name

idx_[field]


// fields

choose field in current table


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 当前数据库中的指定字段来源自指定数据库表格中的指定字段

field <---> database/table/filed


referenced database          // 引用自 哪个 数据库

referenced table             // 引用自 哪个 表格

referenced fields            // 引用自 哪个 字段


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// on delete

// on update


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

### data type

#### number

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


"type"              "byte"                  "desc"


// interger types

tinyint               1

smallint              2

mediumint             3

int(integer)          4

bigint                8


// float types

float                 4                     单精度浮点数

double                8                     双精度浮点数

decimal               m + 2 byte            压缩的 "严格" 定点数 


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * int(m);
 * 
 * 
 * @m: 表示的是该数据类型指定的显示宽度
 * 
 ** 显示宽度和数据类型的取值范围是无关
 */

显示宽度指 mysql 最大可能显示的数字个数
数值的位数小于指定的宽度会由空格填充
如果插入了大于显示宽度的值，只要该值不超过该类型整数的取值范围，数值依然可以插入，而且能够显示出来


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * decimal vs ( float & double )
 * 
 * 
 * 
 */


// decimal( 对精度要求比较高 )

decimal 实际是以串存放的
由表也可以看到 decimal 的存储空间不是固定的
而由其精度 m 决定，占用 m + 2 byte


// float & double( 浮点数能表示更大的范围数据，但是浮点数容易产生误差 )

在数据库迁移中，float(m,d) 是非标准 sql 定义
数据库迁移可能会出现问题，最好不要这样使用
两个浮点数进行减法和比较运算时也容易出问题
在使用浮点型是需要注意尽量避免做浮点数比较


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### time

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


"type"      "byte"          "format"                    "range"


year          1             yyyy                        1901~2155

time          3             hh:mm:ss                    -838:59:59~838:59:59

date          3             yyyy-mm-dd                  1000-01-01~9999-12-3

datetime      8             yyyy-mm-dd hh:mm:ss         1000-01-01 00:00:00~9999-12-31 23:59:59

timestamp     4             yyyy-mm-dd hh:mm:ss         1970-01-01 00:00:01 utc ~2038-01-19 03:14:07 utc


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// create_date vs now


create_date:    yyyy-mm-dd

now:            yyyy-mm-dd hh:mm:ss


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// timestamp vs datetime


1) 存储字节 和 支持的范围 不同

2) 存储值不同

    - datetime 在存储日期数据时，按实际输入的格式存储
      ( 即输入什么就存储什么，与时区无关 )

    - timestamp 值的存储是以 utc ( 世界标准时间 )格式保存的，存储时对当前时区进行转换，检索时再转换回当前时区
      ( 查询时，根据当前时区的不同，显示的时间值是不同的 )


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### string

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


"type"          "byte"                                      "desc"
                

char            m ( 1 <= m < =255 )                         固定长度非二进制字符串

varchar         l + 1 ( l <= m && a <= m <= 255 )           变长非二进制字符串

tinytext        l + 2 ( l < 2^8 )                           非常小的非二进制字符串

text            l + 2 ( l < 2^16 )                          小的非二进制字符串

mediumtext      l + 3 ( l < 2^32 )                          中等大小的非二进制字符串

longtext        l + 4 ( l < 2^32 )                          大的非二进制字符串

enum            1/2 && em < 65535                         枚举类型，只能存一个枚举字符串值

set             1/2/3/4/8 && set < 64                       一个设置，字符串对象可以有零个或多个 set 成员


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * char(m) vs varchar(m)
 * 
 * 
 * @m: 存储的最大字节数，不是显示宽度，如果插入的字符超过了 m 值，则不允许插入
 * 
 * 
 */

char(m): 固定长度字符串

    - 当检索 char 值时，尾部的空格将被删除掉

varchar(m): 长度可变的字符串

    - 在值保存和检索时尾部的空格仍保留


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * text
 * 
 * 
 * 保存非二进制字符串，当保存或查询 text 列的值时，不删除尾部空格
 * ( 如文章内容、评论等 )
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * enum & set
 * 
 * 
 * 都是枚举类型
 */


enum 字段只能从定义的列值中选择一个值插入

set 类型的列可从定义的列值中选择多个字符的联合


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### binary

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// 二进制类型


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


"type"              "byte"                  "desc"


bit(M)              (M + 7)/8               位字段类型

binary(M)           M                       固定长度二进制字符串

varBinary(M)        M + 1                   可变长度二进制字符串

tinyblob(M)         L + 1( L < 2^8 )        非常小的BLOB

blob(M)             L + 2( L < 2^16 )       小的BLOB

meduimblob(M)       L + 3( L < 2^24 )       中等大小的BLOB

longblob(M)         L + 4( L < 2^32 )       非常大的的BLOB


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * text vs blob
 * 
 * 
 * 均可存放大容量的信息
 * 
 ** 由于现今的图片和音频越来越多，检索起来也不方便
 ** 通常都不放在数据库，一般放在专门的文件存储服务器上
 */


text: 只能存储纯文本文件

blob: 主要存储图片、音频信息等


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```
